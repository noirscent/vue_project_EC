(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0686732e"],{2886:function(s,a,t){},3644:function(s,a,t){"use strict";t("2886")},"48f5":function(s,a,t){"use strict";t.r(a);var e=function(){var s=this,a=s._self._c;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[s._m(0),a("ul",{staticClass:"fl sui-tag"},[s.searchParams.categoryName?a("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.categoryName)),a("i",{on:{click:s.removeCategoryName}},[s._v("×")])]):s._e(),s.searchParams.keyword?a("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.keyword)),a("i",{on:{click:s.removeKeyword}},[s._v("×")])]):s._e(),s.searchParams.trademark?a("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.trademark.split(":")[1])),a("i",{on:{click:s.removeTrademark}},[s._v("×")])]):s._e(),s._l(s.searchParams.props,(function(t,e){return a("li",{key:e,staticClass:"with-x"},[s._v(" "+s._s(t.split(":")[1])),a("i",{on:{click:function(a){return s.removeAttr(e)}}},[s._v("×")])])}))],2)]),a("SearchSelector",{on:{trademarkInfo:s.trademarkInfo,attrInfo:s.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:s.isComprehensive},on:{click:function(a){return s.changeOrder("1")}}},[a("a",[s._v("综合 "),a("i",{directives:[{name:"show",rawName:"v-show",value:s.isComprehensive,expression:"isComprehensive"}],staticClass:"iconfont",class:{"icon-sort-up":s.isAsc,"icon-sort-down":!s.isAsc}})])]),a("li",{class:{active:s.isPrice},on:{click:function(a){return s.changeOrder("2")}}},[a("a",[s._v("价格 "),a("i",{directives:[{name:"show",rawName:"v-show",value:s.isPrice,expression:"isPrice"}],staticClass:"iconfont",class:{"icon-sort-up":s.isAsc,"icon-sort-down":!s.isAsc}})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},s._l(s.goodsList,(function(t){return a("li",{key:t.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:"/detail/"+t.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.defaultImg,expression:"good.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[s._v("¥ ")]),a("i",[s._v(" "+s._s(t.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:t.title}},[s._v(" "+s._s(t.title)+" ")])]),s._m(1,!0),s._m(2,!0)])])})),0)]),a("Pagination",{attrs:{pageNo:s.searchParams.pageNo,pageSize:s.searchParams.pageSize,total:s.total,continues:5},on:{getPageNo:s.getPageNo}})],1)],1)])],1)},r=[function(){var s=this,a=s._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[s._v("全部结果")])])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[s._v("已有"),a("span",[s._v("2000")]),s._v("人评价")])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[s._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[s._v("收藏")])])}],i=(t("14d9"),function(){var s=this,a=s._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[s._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},s._l(s.trademarkList,(function(t){return a("li",{key:t.tmId,on:{click:function(a){return s.trademarkHandler(t)}}},[s._v(s._s(t.tmName))])})),0)]),s._m(0)]),s._l(s.attrsList,(function(t){return a("div",{key:t.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[s._v(s._s(t.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},s._l(t.attrValueList,(function(e){return a("li",{key:e,on:{click:function(a){return s.attrHandler(t,e)}}},[a("a",[s._v(s._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)}),c=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[s._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[s._v("更多")])])}],o=t("2f62"),n={name:"SearchSelector",computed:{...Object(o["c"])(["trademarkList","attrsList"])},methods:{trademarkHandler(s){this.$emit("trademarkInfo",s)},attrHandler(s,a){this.$emit("attrInfo",s,a)}}},l=n,h=(t("c96f"),t("2877")),d=Object(h["a"])(l,i,c,!1,null,"4d7d830e",null),m=d.exports,u={name:"Search",components:{SearchSelector:m},data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:3,props:[],trademark:""}}},computed:{...Object(o["d"])({total:s=>s.search.searchList.total}),...Object(o["c"])(["goodsList","trademarkList","attrsList"]),isComprehensive(){return this.searchParams.order.includes("1")},isPrice(){return this.searchParams.order.includes("2")},isAsc(){return this.searchParams.order.includes("asc")}},methods:{getSearchList(){this.$store.dispatch("getSearchList",this.searchParams)},removeCategoryName(){this.searchParams.categoryName=void 0,this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.$router.push({name:"search",params:this.$route.params||{}})},removeKeyword(){this.searchParams.keyword=void 0,this.$router.push({name:"search",query:this.$route.query||{}})},trademarkInfo(s){this.searchParams.trademark=`${s.tmId}:${s.tmName}`,this.getSearchList()},removeTrademark(){this.searchParams.trademark="",this.getSearchList()},attrInfo(s,a){const t=`${s.attrId}:${a}:${s.attrName}`;this.searchParams.props.includes(t)||(this.searchParams.props.push(t),this.getSearchList())},removeAttr(s){this.searchParams.props.splice(s,1),this.getSearchList()},changeOrder(s){let a=this.searchParams.order.split(":")[1];this.searchParams.order="1"===s?"desc"===a?"1:asc":"1:desc":"desc"===a?"2:asc":"2:desc",this.getSearchList()},getPageNo(s){this.searchParams.pageNo=s,this.getSearchList()}},mounted(){this.searchParams=Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearchList()},watch:{$route(){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearchList(),this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0}}},v=u,p=(t("3644"),Object(h["a"])(v,e,r,!1,null,"51575857",null));a["default"]=p.exports},"7bb9":function(s,a,t){},c96f:function(s,a,t){"use strict";t("7bb9")}}]);